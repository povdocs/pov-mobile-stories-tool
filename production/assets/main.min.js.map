{"version":3,"sources":["0.assetManager.js","1.app.js","2.snap.js","9.main.js"],"names":["createCORSRequest","method","url","xhr","XMLHttpRequest","open","XDomainRequest","AssetManager","this","DEBUG","successCount","errorCount","cache","downloadQueue","inQueue","prototype","queueDownload","path","push","constructor","queue","downloadCallback","length","parentThis","i","obj","type","downloadImage","result","isDone","downloadAudio","downloadVideo","image","Image","console","log","addEventListener","event","progressCount","loaded","total","src","audio","Audio","Error","responseType","window","URL","webkitURL","createObjectURL","response","send","video","progress","key","hasOwnProperty","Math","round","getAsset","updateProgress","oEvent","lengthComputable","percentComplete","assetManager","app","snapFile","touchX","touchY","currentScroll","currentSnap","assets","allAssets","data","snaps","startedTF","loadedTF","title","document","width","$","swipeThreshold","init","readFile","downloadAssets","callback","getJSON","d","l","cover","addAssetManager","content","index","indexOf","start","progressState","setInterval","css","clearInterval","snap","create","time","hide","eventListener","play","getCurrent","on","toggleFullScreen","preload","next","bind","e","currentSrc","controls","currentTime","volume","keyCode","previous","show","getScroll","scroll","stopMedia","media","pause","playMedia","get","duration","buffered","end","docEl","documentElement","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","eventListeners","main","getElementById","section","contentVideo","createElement","setAttribute","appendChild","innerHTML","addClass","id","stop","animate","scrollLeft","find","each","clientX","clientY","x","y","swipe","scrollTop","originalEvent","touches","top","abs","removeClass","ready"],"mappings":"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","file":"main.min.js","sourcesContent":["/**\n * Copyright (c) POV | American Documentary\n * Asset Manager code is heavily modified from orignal source to expend from just managing image to managing video and audio.\n *\n * html5rocks.com Copyright (c)\n * Except as otherwise [noted](http://code.google.com/policies.html#restrictions), the content of this page is licensed under the [Creative Commons Attribution 3.0 License](http://creativecommons.org/licenses/by/3.0/), and code samples are licensed under the [Apache 2.0 License](http://www.apache.org/licenses/LICENSE-2.0).\n * createCORSRequest is Copyright (c) html5rocks.com (http://www.html5rocks.com/en/tutorials/cors/)\n * Asset Manager is Copyright (c) html5rocks.com (http://www.html5rocks.com/en/tutorials/games/assetmanager/)\n */\n\n/**\n * Using CORS\n * source: http://www.html5rocks.com/en/tutorials/cors/\n */\nfunction createCORSRequest(method, url) {\n  var xhr = new XMLHttpRequest();\n  if (\"withCredentials\" in xhr) {\n    // Check if the XMLHttpRequest object has a \"withCredentials\" property.\n    // \"withCredentials\" only exists on XMLHTTPRequest2 objects.\n    xhr.open(method, url, true);\n  }\n  else if (typeof XDomainRequest != \"undefined\") {\n    // Otherwise, check if XDomainRequest.\n    // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n    xhr = new XDomainRequest();\n    xhr.open(method, url);\n  }\n  else {\n    // Otherwise, CORS is not supported by the browser.\n    xhr = null;\n  }\n  return xhr;\n}\n\n\n/**\n * Simple Asset Management for HTML5 Games\n * Source: http://www.html5rocks.com/en/tutorials/games/assetmanager/\n * This code is heavily modified from orignal source to expend from just managing image to managing video and audio.\n */\nfunction AssetManager() {\n  this.DEBUG = true;\n  this.successCount = 0;\n  this.errorCount = 0;\n  this.cache = {};\n  this.downloadQueue = [];\n  this.inQueue = {};\n}\n\nAssetManager.prototype.queueDownload = function(path) {\n  this.downloadQueue.push(path);\n}\n\nAssetManager.prototype.constructor = function(queue, downloadCallback) {\n  if(typeof queue!==\"undefined\") this.downloadQueue = queue;\n  if (this.downloadQueue.length === 0 && typeof downloadCallback!==\"undefined\") downloadCallback();\n  var parentThis = this;\n  for (var i = 0; i < this.downloadQueue.length; i++) {\n    var obj = this.downloadQueue[i];\n    // skip if the asset is already downloaded\n    // if(this.getAsset(obj.path)!=\"undefined\") continue;\n\n    if(obj.type=='image'){\n      this.downloadImage(obj.path, function(path, result){\n        parentThis.cache[path] = result;\n        if(parentThis.isDone()) downloadCallback();\n      });\n    }\n    else if(obj.type=='audio'){\n      this.downloadAudio(obj.path, function(path, result){\n        parentThis.cache[path] = result;\n        if(parentThis.isDone()) downloadCallback();\n      });\n    }\n    else if(obj.type=='video'){\n      this.downloadVideo(obj.path, function(path, result){\n        parentThis.cache[path] = result;\n        if(parentThis.isDone()) downloadCallback();\n      });\n    }\n    else continue;\n  }\n}\n\nAssetManager.prototype.downloadImage = function(path, downloadCallback){\n  var image      = new Image();\n  var parentThis = this;\n  if(parentThis.DEBUG) console.log(\"IMAGE DOWNLOADING: \", path);\n\n  image.addEventListener(\"progress\", function (event) {\n    parentThis.progressCount(path, event.loaded, event.total);\n  });\n  image.addEventListener(\"load\", function() {\n    parentThis.successCount += 1;\n    if(parentThis.DEBUG) console.log(\"IMAGE DOWNLOADED: \", path);\n    downloadCallback(path, image);\n  }, false);\n  image.addEventListener(\"error\", function() {\n    parentThis.errorCount += 1;\n  }, false);\n  image.src = path;\n}\n\nAssetManager.prototype.downloadAudio = function(path, downloadCallback){\n  var audio      = new Audio();\n  var parentThis = this;\n  var xhr        = createCORSRequest('GET', path);\n  \n  if (!xhr) throw new Error('CORS not supported');\n  if(parentThis.DEBUG) console.log(\"AUDIO DOWNLOADING: \", path);\n\n  xhr.responseType = 'blob';\n\n  xhr.addEventListener(\"progress\", function (event) {\n    parentThis.progressCount(path, event.loaded, event.total);\n  });\n  xhr.addEventListener(\"load\", function() {\n    if(parentThis.DEBUG) console.log(\"AUDIO DOWNLOADED: \", path);\n    parentThis.successCount += 1;\n    window.URL = window.URL || window.webkitURL;\n    audio = window.URL.createObjectURL(this.response);\n    downloadCallback(path, audio);\n  }, false);\n  xhr.addEventListener(\"error\", function() {\n    parentThis.errorCount += 1;\n  }, false);\n  xhr.send();\n}\n\nAssetManager.prototype.downloadVideo = function(path, downloadCallback){\n  var video      = null;\n  var parentThis = this;\n  var xhr        = createCORSRequest('GET', path);\n  if (!xhr) throw new Error('CORS not supported');\n  if(parentThis.DEBUG) console.log(\"VIDEO DOWNLOADING: \", path);\n\n\txhr.responseType = 'blob';\n\n  xhr.addEventListener(\"progress\", function (event) {\n    parentThis.progressCount(path, event.loaded, event.total);\n  });\n\txhr.addEventListener(\"load\", function() {\n    if(parentThis.DEBUG) console.log(\"VIDEO DOWNLOADED: \", path);\n    parentThis.successCount += 1;\n    window.URL = window.URL || window.webkitURL;\n\t\tvideo = window.URL.createObjectURL(this.response);\n    downloadCallback(path, video);\n\t}, false);\n  xhr.addEventListener(\"error\", function() {\n    parentThis.errorCount += 1;\n  }, false);\n\txhr.send();\n}\n\nAssetManager.prototype.isDone = function() {\n  return (this.progress()<100) ? false : true;\n}\n\nAssetManager.prototype.progress = function() {\n  var progress = 0;\n  var total    = 0;\n\n  for (var key in this.inQueue){\n    if(this.inQueue.hasOwnProperty(key)){\n      progress += this.inQueue[key].progress;\n      total    += this.inQueue[key].total;\n    }\n  }\n\n  return Math.round((progress / total) * 100);\n}\n\nAssetManager.prototype.getAsset = function(path) {\n  if(!this.cache.hasOwnProperty(path)) return path;\n  else return this.cache[path];\n}\n\nAssetManager.prototype.updateProgress = function(path, oEvent) {\n  if (oEvent.lengthComputable) {\n    var percentComplete = oEvent.loaded / oEvent.total;\n    if(parentThis.DEBUG) console.log(path, percentComplete);\n  } else {\n  }\n}\nAssetManager.prototype.progressCount = function(path, loaded, total){\n  this.inQueue[path] = {progress: event.loaded, total: event.total};\n}","var assetManager = new AssetManager();\n\nvar app = {\n  DEBUG:         true,\n  snapFile:      'assets/snap.json',\n  touchX:        null,\n  touchY:        null,\n  currentScroll: 0,\n  currentSnap:   0,\n  assets:        [],\n  allAssets:     [],\n  data:          [],\n  snaps:         [],\n  startedTF:     false,\n  loadedTF:      false,\n  title:         document.title,\n  width:         $('main').width(),\n  swipeThreshold: 6,\n\n  init: function () {\n    app.readFile(app.downloadAssets);\n  },\n\n  readFile: function(callback){\n    $.getJSON(app.snapFile, function(data){\n      app.data = data;\n      for (var i = 0, d = null, l = data.length; i < l; i++) {\n        d = data[i];\n        if(d.cover){\n          if(d.cover.image) app.addAssetManager('image', d.cover.image);\n          if(d.cover.audio) app.addAssetManager('audio', d.cover.audio);\n          if(d.cover.video) app.addAssetManager('video', d.cover.video);\n        }\n        if(d.content){\n          // if(d.content.type=='video') app.addAssetManager('video', d.content.src);\n        }\n        if(i==l-1) callback();\n      }\n    });\n  },\n\n  addAssetManager: function (type, path) {\n    var index = app.assets.indexOf(path);\n    if(index<0){\n      app.allAssets.push({'type': type, 'path': path});\n      app.assets.push(path);\n      return app.allAssets.length - 1;\n    }\n    return index;\n  },\n\n  downloadAssets: function (){\n\n    assetManager.constructor(app.allAssets, function(){\n      for (var i = 0, d = null, l = app.data.length; i < l; i++) {\n        d = app.data[i];\n        if(d.cover){\n          if(d.cover.audio) d.cover.audio = assetManager.getAsset(d.cover.audio);\n          if(d.cover.video) d.cover.video = assetManager.getAsset(d.cover.video);\n        }\n        if(d.content){\n          // if(d.content.type=='video') d.content.src = assetManager.getAsset(d.content.src);\n        }\n      }\n      app.start();\n    });\n\n\n    // update progress bar on screen\n    var progressState = setInterval(function() {\n      var progress = assetManager.progress();\n      if (progress<100) {\n        $('#progress-bar').css({'width': progress+'%'});\n        document.title = progress+'% | '+app.title;\n      }else{\n        clearInterval(progressState);\n        document.title = app.title;\n      }\n    }, 1000);\n  },\n\n  start: function () {\n    if(!app.loadedTF){\n      for (var i = 0, l = app.data.length; i < l; i++) {\n        app.snap.create(i, app.data[i]);\n        if(i==l-1) app.loadedTF = true;\n      }\n    }\n    var time = setInterval(function(){\n      if(app.loadedTF){\n        $('#launcher').hide();\n        app.eventListener();\n        app.snap.init();\n        app.snap.play(app.snap.getCurrent());\n        clearInterval(time);\n      }\n    }, 1000);\n  },\n\n  eventListener: function () {\n    // start snap story\n    $('#snap0,.intro').on('click', function () {\n      if(app.DEBUG) console.log('intro click.');\n      if(!app.startedTF){\n        app.toggleFullScreen();\n        app.startedTF = true;\n        for (var i = 0, snap = null, l = app.snaps.length; i < l; i++) {\n          snap = app.snaps[i];\n          if(snap.video) app.preload(snap.video[0]);\n          if(snap.audio) app.preload(snap.audio[0]);\n        }\n      }\n      app.snap.next();\n    });\n\n    $('video,audio').bind('abort', function(e){\n      console.log(this.currentSrc, 'abort function fired');\n      this.controls = true;\n    }).bind('emptied', function(e){\n      console.log(this.currentSrc, 'emptied function fired');\n      this.controls = true;\n    }).bind('error', function(e){\n      console.log(this.currentSrc, 'error function fired');\n      this.controls = true;\n    }).bind('stalled', function(e){\n      console.log(this.currentSrc, 'stalled function fired');\n      this.controls = true;\n    }).bind('ended', function(e){\n      console.log(this.currentSrc, 'ended function fired');\n      // TODO: show cover\n    }).bind('pause', function(e){\n      console.log(this.currentSrc, 'pause function fired');\n      this.currentTime = 0;\n      this.volume      = 0;\n    }).bind('play', function(e){\n      console.log(this.currentSrc, 'play function fired');\n      this.currentTime = 0;\n      this.volume      = 1;\n    })\n\n    $('.snap-cover video, .snap-cover audio').bind('playing', function(e){\n      console.log(this.currentSrc, 'playing function fired');\n      this.controls = false;\n    });\n\n    // navigate using keyboard\n    $(document).on('keydown', function(event){\n      // left key\n      if(event.keyCode==37) app.snap.previous();\n      // up key\n      else if(event.keyCode==38) app.snap.cover.show(true);\n      // right key\n      else if(event.keyCode==39) app.snap.next();\n      // down key\n      else if(event.keyCode==40) app.snap.content.show();\n    });\n  },\n\n  getScroll: function () {\n    var scroll = app.currentScroll;\n    var width  = $('main').width();\n    scroll = (scroll<0) ? 0 : scroll;\n    if((scroll % width) !== 0) scroll = scroll - (scroll % width);\n    return scroll;\n  },\n\n  stopMedia: function (media) {\n    if(!media) return false;\n    media.pause();\n  },\n\n  playMedia: function (media) {\n    if(!media) return false;\n    media.play();\n  },\n\n  preload: function (media) {\n    if(!media) return false;\n    $(media).bind('canplaythrough', function(){\n      $(media).get(0).play();\n    });\n    $(media).bind('progress', function(e) {\n      // console.log(this.duration, this.buffered);\n      if(this.duration>0) console.log($(this).get(0).currentSrc, 'Buffered: '+this.buffered.end(0)+'s');\n    });\n    $(media).get(0).volume = 0;\n    // $(media).get(0).load();\n    // $(media).get(0).play();\n    // $(media).get(0).pause();\n  },\n\n  toggleFullScreen: function () {\n    var docEl = document.documentElement;\n    if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) {\n           if(docEl.requestFullscreen)       { docEl.requestFullscreen(); }\n      else if(docEl.msRequestFullscreen)     { docEl.msRequestFullscreen(); }\n      else if(docEl.mozRequestFullScreen)    { docEl.mozRequestFullScreen(); }\n      else if(docEl.webkitRequestFullscreen) { docEl.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT); }\n      else{}\n    } else {\n           if (document.exitFullscreen)      { document.exitFullscreen(); }\n      else if(document.msExitFullscreen)     { document.msExitFullscreen(); }\n      else if(document.mozCancelFullScreen)  { document.mozCancelFullScreen(); }\n      else if(document.webkitExitFullscreen) { document.webkitExitFullscreen(); }\n      else{}\n    }\n  },\n};","app.snap = {\n\n  init: function () {\n    app.snap.cover.eventListeners();\n    app.snap.content.eventListeners();\n  },\n\n  create: function (i, snap) {\n    var main = document.getElementById('main');\n    var section = '';\n    var obj = {\n      video: null,\n      audio: null,\n      image: null,\n      cover: null,\n      content: null,\n      contentVideo: null\n    };\n    if(i==0){\n      section = document.createElement('section');\n      section.setAttribute('class', 'intro');\n    }else{\n      section = document.createElement('section');\n      section.setAttribute('class', 'snap');\n    }\n    section.setAttribute('id', 'snap'+i);\n\n    // cover\n    var cover = document.createElement('div');\n    cover.setAttribute('class', 'snap-cover');\n    // add cover content\n    if(snap.cover.video){\n      var video = document.createElement('video');\n      video.setAttribute('webkit-playsinline', true);\n      video.setAttribute('src', snap.cover.video);\n      video.setAttribute('preload', 'metadata');\n      video.setAttribute('loop', true);\n      video.setAttribute('controls', false);\n      video.setAttribute('class', 'snap-cover-video');\n      cover.appendChild(video);\n      obj.video = video;\n    }else{\n      if(snap.cover.image){\n        var image = document.createElement('img');\n        image.setAttribute('src', snap.cover.image);\n        image.setAttribute('alt', '');\n        image.setAttribute('width', '100%');\n        image.setAttribute('height', '');\n        image.setAttribute('class', 'snap-cover-image');\n        cover.appendChild(image);\n        obj.image = image;\n      }\n      if(snap.cover.audio){\n        var audio = document.createElement('audio');\n        audio.setAttribute('src', snap.cover.audio);\n        audio.setAttribute('preload', 'metadata');\n        audio.setAttribute('loop', true);\n        audio.setAttribute('controls', false);\n        audio.setAttribute('class', 'snap-cover-audio');\n        cover.appendChild(audio);\n        obj.audio = audio;\n      }\n    }\n    section.appendChild(cover);\n    obj.cover = cover;\n\n    // content\n    if(i>0){\n      var content = document.createElement('div');\n      content.setAttribute('class', 'snap-content '+snap.content.type);\n      // add html content to snap\n      if(snap.content.type=='html'){\n        content.innerHTML = snap.content.src;\n      }\n      if(snap.content.type=='video'){\n        var video = document.createElement('video');\n        video.setAttribute('webkit-playsinline', true);\n        video.setAttribute('src', snap.content.src);\n        video.setAttribute('preload', 'metadata');\n        video.setAttribute('loop', false);\n        video.setAttribute('controls', true);\n        video.setAttribute('class', 'snap-content-video');\n        content.appendChild(video);\n        obj.contentVideo = video;\n      }\n      section.appendChild(content);\n      if(snap.content.type){\n        $(section).addClass('content-more');\n        $(section).addClass(snap.content.type);\n      }\n      obj.content = content;\n    }\n    main.appendChild(section);\n    app.snaps.push(obj);\n  },\n\n  getCurrent: function () {\n    if(app.currentSnap<0) app.currentSnap = 0;\n    return app.snap.get(app.currentSnap);\n  },\n\n  get: function (id) {\n    // change the index and return the snap object\n    if(id<0 || id>app.snaps.length) return null;\n    return app.snaps[id];\n  },\n\n  next: function () {\n    var width   = app.width;\n    var section = $('section.snap').length;\n    var scroll  = app.getScroll() + width;\n    app.snap.cover.show(false);\n    if(scroll<=(width*section)){\n      $('main').stop().animate({\n        scrollLeft: scroll\n      }, 500, function(){\n        var id = scroll/width;\n        app.currentScroll = scroll;\n        app.currentSnap   = id;\n        app.snap.stop(app.snap.get(id-1));\n        app.snap.play(app.snap.get(id));\n      });\n    }\n  },\n\n  previous: function () {\n    var width  = app.width;\n    var scroll = app.getScroll() - width;\n    app.snap.cover.show(false);\n    if(scroll>=0){\n      $('main').stop().animate({\n        scrollLeft: scroll\n      }, 500, function(){\n        var id = scroll/width;\n        app.currentScroll = scroll;\n        app.currentSnap   = id;\n        app.snap.stop(app.snap.get(id+1));\n        app.snap.play(app.snap.get(id));\n      });\n    }\n  },\n\n  play: function (snap) {\n    if(!snap) return false;\n    if(snap.video) app.playMedia(snap.video);\n    else if(snap.audio) app.playMedia(snap.audio);\n  },\n\n  stop: function (snap) {\n    if(!snap) return false;\n    if(snap.video) app.stopMedia(snap.video);\n    else if(snap.audio) app.stopMedia(snap.audio);\n  },\n\n  content: {\n    show: function () {\n      var snap = app.snap.getCurrent();\n      if(!snap.content) return false;\n      $(snap.cover).addClass('over');\n      app.snap.stop(snap);\n      if(snap.contentVideo) snap.contentVideo.play();\n    },\n    stop: function (snap) {\n      if(!snap) snap = app.snap.getCurrent();\n      if(!snap.content) return false;\n      // stop all the video and audio in the content\n      $(snap.content).find('video,audio').each(function(){\n        this.pause();\n      });\n    },\n\n    eventListeners: function () {\n      // $('.snap-content').on('scroll', function(event){\n      //   if($(this).scrollTop()<1){\n      //     app.snap.cover.show();\n      //   }\n      // });\n      $('.snap-content').on('mousedown', function(event){\n        if(!app.startedTF) return;\n        app.touchX = event.clientX;\n        app.touchY = event.clientY;\n      })\n      .on('mousemove', function(event){\n        if(!app.touchX || !app.touchY) return;\n        var x      = app.touchX - event.clientX;\n        var y      = app.touchY - event.clientY;\n        app.touchX = null;\n        app.touchY = null;\n        app.snap.content.swipe(x, y, $(this).scrollTop());\n      })\n      .on('touchstart', function(event){\n        if(!app.startedTF) return;\n        app.touchX = event.originalEvent.touches[0].clientX;\n        app.touchY = event.originalEvent.touches[0].clientY;\n      })\n      .on('touchmove', function(event){\n        if(!app.touchX || !app.touchY) return;\n        var x      = app.touchX - event.originalEvent.touches[0].clientX;\n        var y      = app.touchY - event.originalEvent.touches[0].clientY;\n        app.touchX = null;\n        app.touchY = null;\n        app.snap.content.swipe(x, y, $(this).scrollTop());\n      });\n    },\n\n    swipe: function (x, y, top) {\n      if(!x || !y) return;\n      if(Math.abs(x) > Math.abs(y)){\n        if(x < 0){\n          // left swipe\n          if(x < -Math.abs(app.swipeThreshold)){\n            if(app.DEBUG) console.log('content swipe left');\n            app.snap.previous();\n          }\n        }else{\n          // right swipe\n          if(x > Math.abs(app.swipeThreshold)){\n            if(app.DEBUG) console.log('content swipe right');\n            app.snap.next();\n          }\n        }\n      }else{\n        if(y < 0){\n          // up swipe\n          if(y < -Math.abs(app.swipeThreshold)){\n            if(app.DEBUG) console.log('content swipe up');\n            if(top<2) app.snap.cover.show(true);\n          }\n        }else{\n          // down swipe\n          if(y > Math.abs(app.swipeThreshold)){\n            if(app.DEBUG) console.log('content swipe down');\n          }\n        }\n      }\n    }\n  },\n\n\n\n\n  // Cover Snap Functions\n  cover: {\n    show: function (play) {\n      var snap = app.snap.getCurrent();\n      if(!snap.content){\n        $(snap.cover).removeClass('over');\n        if(play===true) app.snap.play(snap);\n      }else{\n        app.snap.content.stop(snap);\n        $(snap.content).stop().animate({\n          scrollTop: 0\n        }, 500, function(){\n          $(snap.cover).removeClass('over');\n          if(play===true) app.snap.play(snap);\n        });\n      }\n    },\n\n    eventListeners: function () {\n      $('.snap-cover').on('mousedown', function(event){\n        if(!app.startedTF) return;\n        app.touchX = event.clientX;\n        app.touchY = event.clientY;\n      })\n      .on('mousemove', function(event){\n        if(!app.touchX || !app.touchY) return;\n        var x      = app.touchX - event.clientX;\n        var y      = app.touchY - event.clientY;\n        app.touchX = null;\n        app.touchY = null;\n        app.snap.cover.swipe(x, y);\n      })\n      .on('touchstart', function(event){\n        if(!app.startedTF) return;\n        app.touchX = event.originalEvent.touches[0].clientX;\n        app.touchY = event.originalEvent.touches[0].clientY;\n      })\n      .on('touchmove', function(event){\n        if(!app.touchX || !app.touchY) return;\n        var x      = app.touchX - event.originalEvent.touches[0].clientX;\n        var y      = app.touchY - event.originalEvent.touches[0].clientY;\n        app.touchX = null;\n        app.touchY = null;\n        app.snap.cover.swipe(x, y);\n      });\n    },\n\n    swipe: function (x, y) {\n      if(!x || !y) return;\n      if(Math.abs(x) > Math.abs(y)){\n        if(x < 0){\n          // left swipe\n          if(x < -Math.abs(app.swipeThreshold)){\n            if(app.DEBUG) console.log('swipe left');\n            app.snap.previous();\n          }\n        }else{\n          // right swipe\n          if(x > Math.abs(app.swipeThreshold)){\n            if(app.DEBUG) console.log('swipe right');\n            app.snap.next();\n          }\n        }\n      }else{\n        if(y < 0){\n          // up swipe\n          if(y < -Math.abs(app.swipeThreshold)){\n            if(app.DEBUG) console.log('swipe up');\n          }\n        }else{\n          // down swipe\n          if(y > Math.abs(app.swipeThreshold)){\n            if(app.DEBUG) console.log('swipe down');\n            app.snap.content.show();\n          }\n        }\n      }\n    }\n  }\n};","$(document).ready(function(){\n  app.init();\n});"],"sourceRoot":"/source/"}